{% extends 'base.html' %}

{% block title %}Update Order Status - MediCart{% endblock %}

{% block content %}
<h1>Update Order Status</h1>

<div class="card" style="max-width: 600px;">
    <h2>Order #{{ order.id }}</h2>
    
    <div style="margin: 20px 0;">
        <p><strong>Customer:</strong> {{ order.customer_name }}</p>
        <p><strong>Medicine:</strong> {{ order.medicine.name }}</p>
        <p><strong>Quantity:</strong> {{ order.quantity }}</p>
        <p><strong>Total:</strong> ${{ order.total_price }}</p>
        <p><strong>Current Status:</strong> 
            <span class="badge badge-info">{{ order.status }}</span>
        </p>
    </div>
    
    <form method="post" style="margin-top: 30px;">
        {% csrf_token %}
        
        <div class="form-group">
            <label for="status">New Status *</label>
            <select id="status" name="status" required>
                {% for status_key, status_label in status_choices %}
                    <option value="{{ status_key }}" {% if order.status == status_key %}selected{% endif %}>
                        {{ status_label }}
                    </option>
                {% endfor %}
            </select>
        </div>
        
        <div style="display: flex; gap: 10px; margin-top: 30px;">
            <button type="submit" class="btn btn-success">Update Status</button>
            <a href="{% url 'order_detail' order.id %}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}

